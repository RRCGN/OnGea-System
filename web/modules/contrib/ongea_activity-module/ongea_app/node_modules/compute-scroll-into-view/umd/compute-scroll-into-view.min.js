!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.computeScrollIntoView=e()}(this,function(){"use strict";function t(t){return null!=t&&"object"==typeof t&&(1===t.nodeType||11===t.nodeType)}function e(t,e){return(!e||"hidden"!==t)&&("visible"!==t&&"clip"!==t)}function n(t,n){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var o=getComputedStyle(t,null);return e(o.overflowY,n)||e(o.overflowX,n)}return!1}function o(t,e,n,o,i,r,d,l){return r<t&&d>e||r>t&&d<e?0:r<t&&l<n||d>e&&l>n?r-t-o:d>e&&l<n||r<t&&l>n?d-e+i:0}return function(e,i){var r=i.scrollMode,d=i.block,l=i.inline,f=i.boundary,s=i.skipOverflowHiddenElements,h="function"==typeof f?f:function(t){return t!==f};if(!t(e))throw new TypeError("Invalid target");for(var u=document.scrollingElement||document.documentElement,c=[],a=e;t(a)&&h(a);){if((a=a.parentNode||a.host)===u){c.push(a);break}a===document.body&&n(a)&&!n(document.documentElement)||n(a,s)&&c.push(a)}for(var p=window.visualViewport?visualViewport.width:innerWidth,m=window.visualViewport?visualViewport.height:innerHeight,g=window.scrollX||pageXOffset,w=window.scrollY||pageYOffset,v=e.getBoundingClientRect(),b=v.height,y=v.width,W=v.top,H=v.right,M=v.bottom,x=v.left,I="start"===d||"nearest"===d?W:"end"===d?M:W+b/2,E="center"===l?x+y/2:"end"===l?H:x,T=[],V=0;V<c.length;V++){var C=c[V],k=C.getBoundingClientRect(),B=k.height,O=k.width,R=k.top,S=k.right,X=k.bottom,Y=k.left;if("if-needed"===r&&W>=0&&x>=0&&M<=m&&H<=p&&W>=R&&M<=X&&x>=Y&&H<=S)return T;var j=getComputedStyle(C),L=parseInt(j.borderLeftWidth,10),N=parseInt(j.borderTopWidth,10),q=parseInt(j.borderRightWidth,10),z=parseInt(j.borderBottomWidth,10),A=0,D=0,F="offsetWidth"in C?C.offsetWidth-C.clientWidth-L-q:0,G="offsetHeight"in C?C.offsetHeight-C.clientHeight-N-z:0;if(u===C)A="start"===d?I:"end"===d?I-m:"nearest"===d?o(w,w+m,m,N,z,w+I,w+I+b,b):I-m/2,D="start"===l?E:"center"===l?E-p/2:"end"===l?E-p:o(g,g+p,p,L,q,g+E,g+E+y,y),A=Math.max(0,A+w),D=Math.max(0,D+g);else{A="start"===d?I-R-N:"end"===d?I-X+z+G:"nearest"===d?o(R,X,B,N,z+G,I,I+b,b):I-(R+B/2)+G/2,D="start"===l?E-Y-L:"center"===l?E-(Y+O/2)+F/2:"end"===l?E-S+q+F:o(Y,S,O,L,q+F,E,E+y,y);var J=C.scrollLeft,K=C.scrollTop;I+=K-(A=Math.max(0,Math.min(K+A,C.scrollHeight-B+G))),E+=J-(D=Math.max(0,Math.min(J+D,C.scrollWidth-O+F)))}T.push({el:C,top:A,left:D})}return T}});
