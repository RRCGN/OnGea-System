{"version":3,"sources":["../source/FadeInOut.js"],"names":["FadeInOut","state","show","props","hide","fadeOutDuration","clearTimeout","showTimer","_isMounted","setState","fadeIn","fadeOut","hideTimer","setTimeout","prevProps","fadeInClassName","children","cloneElement","className","Component","propTypes","bool","isRequired","number","string","node","defaultProps"],"mappings":";;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;;;;;;;IAEqBA,S;;;;;;;;;;;;;;0LAYpBC,K,GAAQ;AACPC,SAAM,MAAKC,KAAL,CAAWD;AADV,G,QAqDRE,I,GAAO,YACP;AAAA,OACSC,eADT,GAC6B,MAAKF,KADlC,CACSE,eADT;;;AAGCC,gBAAa,MAAKC,SAAlB;;AAEA,OAAI,CAAC,MAAKC,UAAV,EAAsB;AACrB;AACA;;AAED,SAAKC,QAAL,CACC;AACAP,UAAO,KADP;AAEAQ,YAAS,KAFT;AAGAC,aAAU;AAHV,IADD;;AAOA;AACA,SAAKC,SAAL,GAAiBC,WAAW,YAC5B;AACC,QAAI,MAAKL,UAAT,EAAqB;AACpB,WAAKC,QAAL,CAAc;AACbE,eAAU;AADG,MAAd;AAGA;AACD,IAPgB,EAQjBN,eARiB,CAAjB;AASA,G;;;;;qCA5EkBS,S,EACnB;AACC,OAAI,CAACA,UAAUZ,IAAX,IAAmB,KAAKC,KAAL,CAAWD,IAAlC,EAAwC;AACvC,SAAKA,IAAL;AACA,IAFD,MAEO,IAAIY,UAAUZ,IAAV,IAAkB,CAAC,KAAKC,KAAL,CAAWD,IAAlC,EAAwC;AAC9C,SAAKE,IAAL;AACA;AACD;;;sCAGD;AACC,QAAKI,UAAL,GAAkB,IAAlB;AACA;;;yCAGD;AACC,QAAKA,UAAL,GAAkB,KAAlB;;AAEAF,gBAAa,KAAKC,SAAlB;AACAD,gBAAa,KAAKM,SAAlB;AACA;;;yBAGD;AAAA;;AACCN,gBAAa,KAAKC,SAAlB;AACAD,gBAAa,KAAKM,SAAlB;;AAEA,QAAKH,QAAL,CACC;AACAP,UAAO,IADP;AAEAQ,YAAS,KAFT;AAGAC,aAAU;AAHV,IADD;;AAOA,QAAKJ,SAAL,GAAiBM,WAAW,YAC5B;AACC,QAAI,OAAKL,UAAT,EAAqB;AACpB,YAAKC,QAAL,CAAc;AACbC,cAAQ;AADK,MAAd;AAGA;AACD,IAPgB;AAQjB;AACA;AACA;AACA;AACA,KAZiB,CAAjB;AAaA;;;2BA+BQ;AAAA,gBAIJ,KAAKP,KAJD;AAAA,OAEPY,eAFO,UAEPA,eAFO;AAAA,OAGPC,QAHO,UAGPA,QAHO;AAAA,gBAUJ,KAAKf,KAVD;AAAA,OAOPC,IAPO,UAOPA,IAPO;AAAA,OAQPQ,MARO,UAQPA,MARO;AAAA,OASPC,OATO,UASPA,OATO;;;AAYR,OAAIT,QAAQS,OAAZ,EAAqB;AACpB,QAAII,eAAJ,EAAqB;AACpB,YAAO,gBAAME,YAAN,CAAmBD,QAAnB,EAA6B;AACnCE,iBAAW,0BAAWF,SAASb,KAAT,CAAee,SAA1B,sBACTH,eADS,EACSL,MADT;AADwB,MAA7B,CAAP;AAKA;AACD,WAAOM,QAAP;AACA;;AAED,UAAO,IAAP;AACA;;;;EAtHqC,gBAAMG,S,UACrCC,S,GAAY;AAClBlB,OAAM,oBAAUmB,IAAV,CAAeC,UADH;AAElBjB,kBAAiB,oBAAUkB,MAAV,CAAiBD,UAFhB;AAGlBP,kBAAiB,oBAAUS,MAHT;AAIlBR,WAAU,oBAAUS,IAAV,CAAeH;AAJP,C,SAOZI,Y,GAAe;AACrBxB,OAAM;AADe,C;kBARFF,S","file":"FadeInOut.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nexport default class FadeInOut extends React.Component {\r\n\tstatic propTypes = {\r\n\t\tshow: PropTypes.bool.isRequired,\r\n\t\tfadeOutDuration: PropTypes.number.isRequired,\r\n\t\tfadeInClassName: PropTypes.string,\r\n\t\tchildren: PropTypes.node.isRequired\r\n\t}\r\n\r\n\tstatic defaultProps = {\r\n\t\tshow: false\r\n\t}\r\n\r\n\tstate = {\r\n\t\tshow: this.props.show\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps)\r\n\t{\r\n\t\tif (!prevProps.show && this.props.show) {\r\n\t\t\tthis.show()\r\n\t\t} else if (prevProps.show && !this.props.show) {\r\n\t\t\tthis.hide()\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount()\r\n\t{\r\n\t\tthis._isMounted = true\r\n\t}\r\n\r\n\tcomponentWillUnmount()\r\n\t{\r\n\t\tthis._isMounted = false\r\n\r\n\t\tclearTimeout(this.showTimer)\r\n\t\tclearTimeout(this.hideTimer)\r\n\t}\r\n\r\n\tshow()\r\n\t{\r\n\t\tclearTimeout(this.showTimer)\r\n\t\tclearTimeout(this.hideTimer)\r\n\r\n\t\tthis.setState\r\n\t\t({\r\n\t\t\tshow : true,\r\n\t\t\tfadeIn : false,\r\n\t\t\tfadeOut : false\r\n\t\t})\r\n\r\n\t\tthis.showTimer = setTimeout(() =>\r\n\t\t{\r\n\t\t\tif (this._isMounted) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tfadeIn: true\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Adding a non-null delay in order to\r\n\t\t// prevent web browser from optimizing\r\n\t\t// adding CSS classes and doing it simultaneously\r\n\t\t// rather than sequentially (required for CSS transition).\r\n\t\t10)\r\n\t}\r\n\r\n\thide = () =>\r\n\t{\r\n\t\tconst { fadeOutDuration } = this.props\r\n\r\n\t\tclearTimeout(this.showTimer)\r\n\r\n\t\tif (!this._isMounted) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.setState\r\n\t\t({\r\n\t\t\tshow : false,\r\n\t\t\tfadeIn : false,\r\n\t\t\tfadeOut : true\r\n\t\t})\r\n\r\n\t\t// Gives some time to CSS opacity transition to finish.\r\n\t\tthis.hideTimer = setTimeout(() =>\r\n\t\t{\r\n\t\t\tif (this._isMounted) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tfadeOut : false\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tfadeOutDuration)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tfadeInClassName,\r\n\t\t\tchildren\r\n\t\t} = this.props\r\n\r\n\t\tconst {\r\n\t\t\tshow,\r\n\t\t\tfadeIn,\r\n\t\t\tfadeOut\r\n\t\t} = this.state\r\n\r\n\t\tif (show || fadeOut) {\r\n\t\t\tif (fadeInClassName) {\r\n\t\t\t\treturn React.cloneElement(children, {\r\n\t\t\t\t\tclassName: classNames(children.props.className, {\r\n\t\t\t\t\t\t[fadeInClassName]: fadeIn\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\treturn children\r\n\t\t}\r\n\r\n\t\treturn null\r\n\t}\r\n}"]}