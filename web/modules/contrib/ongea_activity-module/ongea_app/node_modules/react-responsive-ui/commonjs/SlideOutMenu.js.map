{"version":3,"sources":["../source/SlideOutMenu.js"],"names":["PureComponent","Component","ContextAwareSlideoutMenu","props","context","registerMenu","toggleMenu","SlideoutMenu","state","show","hide","storeInstance","ref","menu","unregister","setState","toggle","callback","isShown","element","window","addEventListener","removeEventListener","className","style","children","propTypes","func","isRequired","object","string"],"mappings":";;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AAEA;;;;;;;;;;AAEA;AACA,IAAMA,gBAAgB,gBAAMA,aAAN,IAAuB,gBAAMC,SAAnD;;AAEA,IAAMC,2BAA2B,SAA3BA,wBAA2B,CAACC,KAAD;AAAA,QAChC;AAAA,uBAAS,QAAT;AAAA;AACE;AAAA,UACA,8BAAC,YAAD,eACKA,KADL;AAEC,kBAAcC,QAAQC,YAFvB;AAGC,gBAAYD,QAAQE,UAHrB,IADA;AAAA;AADF,EADgC;AAAA,CAAjC;;kBAYeJ,wB;;AAEf;AACA;;AAEA;;IACMK,Y;;;;;;;;;;;;;;gMAcLC,K,GAAQ,EAAEC,MAAM,KAAR,E,QA6BRC,I,GAAO,YACP;AAAA,OACSJ,UADT,GACwB,MAAKH,KAD7B,CACSG,UADT;AAAA,OAESG,IAFT,GAEkB,MAAKD,KAFvB,CAESC,IAFT;;;AAIC,OAAIA,IAAJ,EAAU;AACTH;AACA;AACD,G,QAEDK,a,GAAgB,UAACC,GAAD;AAAA,UAAS,MAAKC,IAAL,GAAYD,GAArB;AAAA,G;;;;;sCApChB;AAAA;;AAAA,OACSP,YADT,GAC0B,KAAKF,KAD/B,CACSE,YADT;AAAA,OAESI,IAFT,GAEkB,KAAKD,KAFvB,CAESC,IAFT;;;AAIC,QAAKK,UAAL,GAAkBT,aACjB;AACAK,UAAU;AAAA,YAAM,OAAKK,QAAL,CAAc,EAAEN,MAAM,KAAR,EAAd,CAAN;AAAA,KADV;AAEAO,YAAU,gBAACC,QAAD;AAAA,YAAc,OAAKF,QAAL,CAAc;AAAA,aAAU,EAAEN,MAAM,CAACD,MAAMC,IAAf,EAAV;AAAA,MAAd,EAAgDQ,QAAhD,CAAd;AAAA,KAFV;AAGAC,aAAU;AAAA,YAAM,OAAKV,KAAL,CAAWC,IAAjB;AAAA,KAHV;AAIAU,aAAU;AAAA,YAAM,OAAKN,IAAX;AAAA;AAJV,IADiB,CAAlB;;AAQA;AACAO,UAAOC,gBAAP,CAAwB,WAAxB,EAAqC,KAAKX,IAA1C;AACAU,UAAOC,gBAAP,CAAwB,UAAxB,EAAoC,KAAKX,IAAzC;AACA;;;yCAGD;AACC,QAAKI,UAAL;;AAEA;AACAM,UAAOE,mBAAP,CAA2B,WAA3B,EAAwC,KAAKZ,IAA7C;AACAU,UAAOE,mBAAP,CAA2B,UAA3B,EAAuC,KAAKZ,IAA5C;AACA;;;2BAeD;AAAA,gBACwC,KAAKP,KAD7C;AAAA,OACSoB,SADT,UACSA,SADT;AAAA,OACoBC,KADpB,UACoBA,KADpB;AAAA,OAC2BC,QAD3B,UAC2BA,QAD3B;AAAA,OAEShB,IAFT,GAEkB,KAAKD,KAFvB,CAESC,IAFT;;;AAIC,UACC;AAAA;AAAA;AACC,UAAM,KAAKE,aADZ;AAEC,gBAAY,0BAAW,qBAAX,EACZ;AACC,uCAAiCF;AADlC,MADY,EAIZc,SAJY,CAFb;AAOC,YAAQC,KAPT;AAQGC;AARH,IADD;AAYA;;;;EAxEyBzB,a,UAEnB0B,S,GACP;AACCpB,aAAe,oBAAUqB,IAAV,CAAeC,UAD/B;AAECvB,eAAe,oBAAUsB,IAAV,CAAeC,UAF/B;;AAIC;AACAJ,QAAQ,oBAAUK,MALnB;;AAOC;AACAN,YAAY,oBAAUO;AARvB,C","file":"SlideOutMenu.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport { Context } from './PageAndMenu'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\nconst ContextAwareSlideoutMenu = (props) => (\r\n\t<Context.Consumer>\r\n\t\t{context => (\r\n\t\t\t<SlideoutMenu\r\n\t\t\t\t{...props}\r\n\t\t\t\tregisterMenu={context.registerMenu}\r\n\t\t\t\ttoggleMenu={context.toggleMenu}/>\r\n\t\t\t)\r\n\t\t}\r\n\t</Context.Consumer>\r\n)\r\n\r\nexport default ContextAwareSlideoutMenu\r\n\r\n// Swipeable feature example source code:\r\n// https://github.com/mui-org/material-ui/blob/v1-beta/packages/material-ui/src/SwipeableDrawer/SwipeableDrawer.js\r\n\r\n// A slideout menu.\r\nclass SlideoutMenu extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\ttoggleMenu   : PropTypes.func.isRequired,\r\n\t\tregisterMenu : PropTypes.func.isRequired,\r\n\r\n\t\t// CSS style object\r\n\t\tstyle : PropTypes.object,\r\n\r\n\t\t// CSS class\r\n\t\tclassName : PropTypes.string\r\n\t}\r\n\r\n\tstate = { show: false }\r\n\r\n\tcomponentDidMount()\r\n\t{\r\n\t\tconst { registerMenu } = this.props\r\n\t\tconst { show } = this.state\r\n\r\n\t\tthis.unregister = registerMenu\r\n\t\t({\r\n\t\t\thide    : () => this.setState({ show: false }),\r\n\t\t\ttoggle  : (callback) => this.setState(state => ({ show: !state.show }), callback),\r\n\t\t\tisShown : () => this.state.show,\r\n\t\t\telement : () => this.menu\r\n\t\t})\r\n\r\n\t\t// Listen to `pushstate` and `popstate` events (navigation).\r\n\t\twindow.addEventListener('pushstate', this.hide)\r\n\t\twindow.addEventListener('popstate', this.hide)\r\n\t}\r\n\r\n\tcomponentWillUnmount()\r\n\t{\r\n\t\tthis.unregister()\r\n\r\n\t\t// Stop listening to `pushstate` and `popstate` events (navigation).\r\n\t\twindow.removeEventListener('pushstate', this.hide)\r\n\t\twindow.removeEventListener('popstate', this.hide)\r\n\t}\r\n\r\n\thide = () =>\r\n\t{\r\n\t\tconst { toggleMenu } = this.props\r\n\t\tconst { show } = this.state\r\n\r\n\t\tif (show) {\r\n\t\t\ttoggleMenu()\r\n\t\t}\r\n\t}\r\n\r\n\tstoreInstance = (ref) => this.menu = ref\r\n\r\n\trender()\r\n\t{\r\n\t\tconst { className, style, children } = this.props\r\n\t\tconst { show } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tref={ this.storeInstance }\r\n\t\t\t\tclassName={ classNames('rrui__slideout-menu',\r\n\t\t\t\t{\r\n\t\t\t\t\t'rrui__slideout-menu--expanded': show\r\n\t\t\t\t},\r\n\t\t\t\tclassName) }\r\n\t\t\t\tstyle={ style }>\r\n\t\t\t\t{ children }\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}"]}